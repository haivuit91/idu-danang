<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/admin/common.xhtml">

	<ui:define name="content">
		<div class="row">
			<div class="col-lg-12">
				<h1 class="page-header">News Management</h1>
			</div>
		</div>
		<h:form>

			<h:commandLink  styleClass="btn btn-default" action="#{newsManagement.preAdd()}" value="Add news" />
			<c:if test="${newsManagement.resultMes != null}">
				<div class="alert  alert-info alert-dismissible" role="alert" style="margin-top: 8px">
					<button type="button" class="close" data-dismiss="alert">
						<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
					</button>
					${newsManagement.resultMes}
				</div>
			</c:if>
			<!-- <div class="row">
				
				<h:outputLabel>${newsManagement.resultMes}</h:outputLabel>
			</div> -->
			<div class="row" style="margin-top: 8px">
				<div class="col-lg-12">
					<div class="panel panel-default">
						<f:view>

							<h:dataTable value="#{newsManagement.listNews}" var="news"
								class="table table-striped table-bordered table-hover"
								id="dataTables">

								<h:column>
									<f:facet name="header">
										<span>Title</span>
									</f:facet>
									#{news.title}
								</h:column>
								<h:column>
									<f:facet name="header">Date</f:facet>
									<h:outputLabel>#{news.timeCreated}</h:outputLabel>
								</h:column>
								<h:column>
									<f:facet name="header">User</f:facet>
									<h:outputLabel>#{news.user.userName}</h:outputLabel>
								</h:column>
								<h:column>
									<f:facet name="header">Category</f:facet>
									<h:outputLabel>#{news.category.categoryName}</h:outputLabel>
								</h:column>
								<h:column>
									<f:facet name="header">Time</f:facet>
									<h:outputLabel>#{news.timeCreated}</h:outputLabel>
								</h:column>
								<h:column>
									<f:facet name="header">Status</f:facet>
									<h:outputLabel>#{news.active ? 'Enable':'Disable'}</h:outputLabel>
								</h:column>


								<h:column>
									<f:facet name="header">Action</f:facet>
									<div class="btn-group">
										<h:commandLink styleClass="btn btn btn-default"
											action="#{newsManagement.preEdit(news)}">Edit</h:commandLink>
										<button type="button"
											class="btn btn btn-default dropdown-toggle"
											data-toggle="dropdown">
											<span class="caret"></span> <span class="sr-only">Toggle
												Dropdown</span>
										</button>
										<ul class="dropdown-menu" role="menu">
											<li><h:commandLink
													action="#{newsManagement.delete(news.newsId)}"
													value="Delete" /></li>
											<li><h:commandLink
													action="#{newsManagement.active(news)}"
													value="${news.active ? 'Disactive':'Active'}" /></li>
										</ul>
									</div>
								</h:column>
							</h:dataTable>

						</f:view>
					</div>
				</div>
			</div>

		</h:form>


	</ui:define>

</ui:composition>
</html>